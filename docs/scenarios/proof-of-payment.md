Title: Proof of payment
Description: Use the payment preimage as cryptographic proof that a payment was made.
Education: Every Lightning payment includes a preimage that serves as cryptographic proof of payment. This can be used to unlock content, verify purchases, as a receipt, or to enable atomic swaps. The preimage is atomically revealed on successful payment. Payment hash in a BOLT-11 invoice is the SHA-256 hash of the preimage.
Complexity: Medium

```txt
════════════════════════════════════════════════════════════════════════════════
                              PROOF OF PAYMENT
════════════════════════════════════════════════════════════════════════════════

┌──────────────────────────────────────────────────────────────────────────────┐
│                          Verify Payment Proof                                │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  Invoice                                                                     │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ lnbc10u1p5kl82qdqufphkcepqf9h8vmmfvdjjq3r9d4hsnp4qwmtpr4p72ms        │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
│  Preimage (Proof of Payment)                                                │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6                 │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
│  [Verify Proof]                                                              │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘


════════════════════════════════════════════════════════════════════════════════
                            SUCCESS STATE
════════════════════════════════════════════════════════════════════════════════

┌──────────────────────────────────────────────────────────────────────────────┐
│                          Verify Payment Proof                                │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  Invoice                                                                     │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ lnbc10u1p5kl82qdqufphkcepqf9h8vmmfvdjjq3r9d4hsnp4qwmtpr4p72ms        │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
│  Preimage (Proof of Payment)                                                │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u1v2w3x4y5z6                 │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
│  [Verify Proof]                                                              │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ ✅ SUCCESS                                                               │ │
│  │                                                                          │ │
│  │ Valid proof of payment! The preimage correctly matches the invoice      │ │
│  │ payment hash. This confirms the payment was successfully completed.     │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘


════════════════════════════════════════════════════════════════════════════════
                              ERROR STATE
════════════════════════════════════════════════════════════════════════════════

┌──────────────────────────────────────────────────────────────────────────────┐
│                          Verify Payment Proof                                │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  Invoice                                                                     │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ lnbc10u1p5kl82qdqufphkcepqf9h8vmmfvdjjq3r9d4hsnp4qwmtpr4p72ms        │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
│  Preimage (Proof of Payment)                                                │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ invalid_preimage_xyz123                                                │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
│  [Verify Proof]                                                              │
│                                                                              │
│  ┌────────────────────────────────────────────────────────────────────────┐ │
│  │ ❌ ERROR                                                                 │ │
│  │                                                                          │ │
│  │ Invalid proof of payment. The preimage does not match the invoice       │ │
│  │ payment hash. Please verify you have the correct preimage.              │ │
│  └────────────────────────────────────────────────────────────────────────┘ │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
```
